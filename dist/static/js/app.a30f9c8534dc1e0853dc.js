webpackJsonp([1],[,,,,,,,,,,,,,,,,function(t,e,o){"use strict";var a=o(4),r=o(53),n=o(50),i=o.n(n);a.default.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Recorder",component:i.a}]})},function(t,e){},,function(t,e,o){function a(t){o(28)}var r=o(15)(o(21),o(52),a,null,null);t.exports=r.exports},,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(26),r=o.n(a),n=o(25),i=o.n(n),s=o(24),u=o.n(s);e.default={name:"home",data:function(){return{isRecording:!1,loadAudio:!1,dataUrl:"",finalAudioUrl:"",downloadFile:"audio.wav",outputFormat:"wav",recorder:new r.a,audioConverter:new u.a}},computed:{noSupport:function(){return!this.recorder.hasGetUserMedia()},isMp3:function(){return"mp3"===this.outputFormat}},methods:{record:function(){this.recorder.startRecord(),this.isRecording=!0,this.loadAudio=!1,this.dataUrl="",this.finalAudioUrl=""},stop:function(){var t=this;this.loadAudio=!0;var e=this.recorder.stopRecord();this.dataUrl=(window.URL||window.webkitURL).createObjectURL(e);var o,a=new(window.AudioContext||window.webkitAudioContext),r=(a.createMediaStreamDestination(),null);o=new i.a(a,[this.dataUrl,"/static/audio/gemidao.mp3"],function(e){r=a.createBufferSource(),r.buffer=o.appendBuffer(e[0],e[1]);var n=t.audioConverter.bufferToWav(r.buffer);if("mp3"===t.outputFormat)var i=t.audioConverter.wavToMp3(n),s=t.audioConverter.bufferToBlob(i,"audio/mp3");else var s=t.audioConverter.bufferToBlob([new DataView(n)],"audio/wav");t.finalAudioUrl=window.URL.createObjectURL(s),t.loadAudio=!1}),o.load(),this.isRecording=!1},changeOutputFormat:function(){"wav"===this.outputFormat?(this.outputFormat="mp3",this.downloadFile="audio.mp3"):(this.outputFormat="wav",this.downloadFile="audio.wav")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),r=o(19),n=o.n(r),i=o(16),s=o(18),u=o.n(s),d=o(17);o.n(d);a.default.use(u.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:i.a,template:"<App/>",components:{App:n.a}})},function(t,e,o){function a(){this.audioBufferToWav=o(20),this.lamejs=o(49);this.mp3encoder=new this.lamejs.Mp3Encoder(1,44100,128),this.sampleBlockSize=1152}a.prototype.bufferToWav=function(t){return this.audioBufferToWav(t)},a.prototype.wavToMp3=function(t){for(var e,o,a=new Int16Array(t),r=[],n=0;n<a.length;n+=this.sampleBlockSize)o=a.subarray(n,n+this.sampleBlockSize),e=this.mp3encoder.encodeBuffer(o),e.length>0&&r.push(e);return e=this.mp3encoder.flush(),e.length>0&&r.push(new Int8Array(e)),r},a.prototype.bufferToBlob=function(t,e){return new Blob(t,{type:e})},t.exports=a},function(t,e){function o(t,e,o){this.context=t,this.urlList=e,this.onload=o,this.bufferList=new Array,this.loadCount=0}o.prototype.loadBuffer=function(t,e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer";var a=this;o.onload=function(){a.context.decodeAudioData(o.response,function(o){if(!o)return void alert("error decoding file data: "+t);a.bufferList[e]=o,++a.loadCount==a.urlList.length&&a.onload(a.bufferList)},function(t){console.error("decodeAudioData error",t)})},o.onerror=function(){alert("BufferLoader: XHR error")},o.send()},o.prototype.load=function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer(this.urlList[t],t)},o.prototype.appendBuffer=function(t,e){for(var o=Math.min(t.numberOfChannels,e.numberOfChannels),a=this.context.createBuffer(o,t.length+e.length,t.sampleRate),r=0;r<o;r++){var n=a.getChannelData(r);n.set(t.getChannelData(r),0),n.set(e.getChannelData(r),t.length)}return a},t.exports=o},function(t,e){var o=function(){var t=this;this.hasGetUserMedia=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},this.getUserMedia=function(t,e,o){var a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(a)return a.bind(navigator)(t,e,o);alert("User Media API not supported.")},this.startRecord=function(){var e={};if(e.audio=!0,this.recordingData=[],!this.hasGetUserMedia())return!1;this.getUserMedia(e,function(e){t.audioRecorder=new MediaRecorder(e),t.audioRecorder.ondataavailable=function(e){t.recordingData.push(e.data)},t.audioRecorder.start(100)},function(t){alert("Error: "+t)})},this.stopRecord=function(){return t.audioRecorder.stop(),new Blob(t.recordingData,{type:"audio/mp3"})}};t.exports=o},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,function(t,e,o){function a(t){o(27)}var r=o(15)(o(22),o(51),a,"data-v-1676c4b7",null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"record container section"},[t.noSupport?o("div",{staticClass:"text"},[o("alert",{attrs:{title:"Um erro ocorreu",type:"danger",icon:"meh-o"}},[t._v("\n      Ops! Parece que seu navegador não tem suporte para essa aplicação...\n    ")])],1):t._e(),t._v(" "),t.noSupport?t._e():o("div",{staticClass:"buttons-wrap"},[t.isRecording?t._e():o("a",{staticClass:"button is-primary record-button",on:{click:t.record}},[t._m(0),t._v("\n      Gravar\n    ")]),t._v(" "),t.isRecording?o("a",{staticClass:"button is-success record-button",on:{click:t.stop}},[t._m(1),t._v("\n      Parar\n    ")]):t._e()]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.noSupport&&!t.isRecording&&!t.loadAudio,expression:"!noSupport && !isRecording && !loadAudio"}],staticClass:"buttons-wrap",attrs:{checked:t.isMp3}},[o("b-switch",{attrs:{"on-change":t.changeOutputFormat}}),t._v(t._s(t.outputFormat)+"\n  ")],1),t._v(" "),t.loadAudio?o("div",{staticClass:"text"},[t._m(2)]):t._e(),t._v(" "),o("div",{staticClass:"buttons-wrap"},[t.loadAudio||t.finalAudioUrl?o("a",{staticClass:"button download-button",class:{"is-loading":t.loadAudio},attrs:{href:t.finalAudioUrl,target:"_blank",download:t.downloadFile}},[t._v("\n      Download\n      "),t._m(3)]):t._e()]),t._v(" "),t._m(4)])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-medium"},[o("i",{staticClass:"fa fa-microphone"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon is-medium"},[o("i",{staticClass:"fa fa-stop-circle-o"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"column is-mobile"},[o("div",{staticClass:"column is-half is-offset-one-quarter"},[o("p",[t._v("Aguarde, isso pode levar um momento")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",{staticClass:"icon"},[o("i",{staticClass:"fa fa-download"})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"text"},[o("div",{staticClass:"columns is-desktop"},[o("div",{staticClass:"column is-half is-offset-one-quarter"},[o("p",[t._v("Grave um audio com o seu microfone e ao final do audio será colocado o "),o("strong",[t._v("Gemidão do Zap")]),t._v(", faça o download, envie para os seus amigos e OOOHHHH AHHH OOOHHHHHHHH AAAAHHHHH! Você caiu no "),o("strong",[t._v("Gemidão do Zap!")])]),t._v(" "),o("a",{staticClass:"button",attrs:{href:"https://github.com/Minoro/gemidao",target:"_blank"}},[o("span",{staticClass:"icon is-medium"},[o("i",{staticClass:"fa fa-github"})]),t._v(" "),o("span",[t._v("GitHub")])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("main",[o("router-view")],1)])},staticRenderFns:[]}}],[23]);
//# sourceMappingURL=app.a30f9c8534dc1e0853dc.js.map