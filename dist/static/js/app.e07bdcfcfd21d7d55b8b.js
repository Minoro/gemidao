webpackJsonp([1],[,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var o=a(4),r=a(53),n=a(50),i=a.n(n);o.default.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Recorder",component:i.a}]})},function(t,e){},,function(t,e,a){function o(t){a(28)}var r=a(15)(a(21),a(52),o,null,null);t.exports=r.exports},,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(26),r=a.n(o),n=a(25),i=a.n(n),s=a(24),u=a.n(s);e.default={name:"home",data:function(){return{isRecording:!1,loadAudio:!1,dataUrl:"",finalAudioUrl:"",downloadFile:"audio.wav",outputFormat:"wav",recorder:new r.a,audioConverter:new u.a}},computed:{noSupport:function(){return!this.recorder.hasGetUserMedia()}},methods:{record:function(){this.recorder.startRecord(),this.isRecording=!0,this.loadAudio=!1,this.dataUrl="",this.finalAudioUrl=""},stop:function(){var t=this;this.loadAudio=!0;var e=this.recorder.stopRecord();this.dataUrl=(window.URL||window.webkitURL).createObjectURL(e);var a,o=new(window.AudioContext||window.webkitAudioContext),r=(o.createMediaStreamDestination(),null);a=new i.a(o,[this.dataUrl,"/static/audio/gemidao.mp3"],function(e){r=o.createBufferSource(),r.buffer=a.appendBuffer(e[0],e[1]);var n=t.audioConverter.bufferToWav(r.buffer);if("mp3"===t.outputFormat)var i=t.audioConverter.wavToMp3(n),s=t.audioConverter.bufferToBlob(i,"audio/mp3");else var s=t.audioConverter.bufferToBlob([new DataView(n)],"audio/wav");t.finalAudioUrl=window.URL.createObjectURL(s),t.loadAudio=!1,t.outputFormat="wav",t.downloadFile="audio.wav"}),a.load(),this.isRecording=!1},changeOutputFormat:function(){"wav"===this.outputFormat?(this.outputFormat="mp3",this.downloadFile="audio.mp3"):(this.outputFormat="wav",this.downloadFile="audio.wav")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(4),r=a(19),n=a.n(r),i=a(16),s=a(18),u=a.n(s),d=a(17);a.n(d);o.default.use(u.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:i.a,template:"<App/>",components:{App:n.a}})},function(t,e,a){function o(){this.audioBufferToWav=a(20),this.lamejs=a(49);this.mp3encoder=new this.lamejs.Mp3Encoder(1,44100,128),this.sampleBlockSize=1152}o.prototype.bufferToWav=function(t){return this.audioBufferToWav(t)},o.prototype.wavToMp3=function(t){for(var e,a,o=new Int16Array(t),r=[],n=0;n<o.length;n+=this.sampleBlockSize)a=o.subarray(n,n+this.sampleBlockSize),e=this.mp3encoder.encodeBuffer(a),e.length>0&&r.push(e);return e=this.mp3encoder.flush(),e.length>0&&r.push(new Int8Array(e)),r},o.prototype.bufferToBlob=function(t,e){return new Blob(t,{type:e})},t.exports=o},function(t,e){function a(t,e,a){this.context=t,this.urlList=e,this.onload=a,this.bufferList=new Array,this.loadCount=0}a.prototype.loadBuffer=function(t,e){var a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType="arraybuffer";var o=this;a.onload=function(){o.context.decodeAudioData(a.response,function(a){if(!a)return void alert("error decoding file data: "+t);o.bufferList[e]=a,++o.loadCount==o.urlList.length&&o.onload(o.bufferList)},function(t){console.error("decodeAudioData error",t)})},a.onerror=function(){alert("BufferLoader: XHR error")},a.send()},a.prototype.load=function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer(this.urlList[t],t)},a.prototype.appendBuffer=function(t,e){for(var a=Math.min(t.numberOfChannels,e.numberOfChannels),o=this.context.createBuffer(a,t.length+e.length,t.sampleRate),r=0;r<a;r++){var n=o.getChannelData(r);n.set(t.getChannelData(r),0),n.set(e.getChannelData(r),t.length)}return o},t.exports=a},function(t,e){var a=function(){var t=this;this.hasGetUserMedia=function(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)},this.getUserMedia=function(t,e,a){var o=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(o)return o.bind(navigator)(t,e,a);alert("User Media API not supported.")},this.startRecord=function(){var e={};if(e.audio=!0,this.recordingData=[],!this.hasGetUserMedia())return!1;this.getUserMedia(e,function(e){t.audioRecorder=new MediaRecorder(e),t.audioRecorder.ondataavailable=function(e){t.recordingData.push(e.data)},t.audioRecorder.start(100)},function(t){alert("Error: "+t)})},this.stopRecord=function(){return t.audioRecorder.stop(),new Blob(t.recordingData,{type:"audio/mp3"})}};t.exports=a},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,function(t,e,a){function o(t){a(27)}var r=a(15)(a(22),a(51),o,"data-v-1676c4b7",null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record container section"},[t.noSupport?a("div",{staticClass:"text"},[a("alert",{attrs:{title:"Um erro ocorreu",type:"danger",icon:"meh-o"}},[t._v("\n      Ops! Parece que seu navegador não tem suporte para essa aplicação...\n    ")])],1):t._e(),t._v(" "),a("div",{staticClass:"buttons-wrap"},[t.isRecording?t._e():a("a",{staticClass:"button is-primary record-button",on:{click:t.record}},[t._m(0),t._v("\n      Gravar\n    ")]),t._v(" "),t.isRecording?a("a",{staticClass:"button is-success record-button",on:{click:t.stop}},[t._m(1),t._v("\n      Parar\n    ")]):t._e()]),t._v(" "),t.isRecording?t._e():a("div",{staticClass:"buttons-wrap"},[a("b-switch",{attrs:{"on-change":t.changeOutputFormat}}),t._v(t._s(t.outputFormat)+"\n  ")],1),t._v(" "),t.loadAudio?a("div",{staticClass:"text"},[t._m(2)]):t._e(),t._v(" "),a("div",{staticClass:"buttons-wrap"},[t.loadAudio||t.finalAudioUrl?a("a",{staticClass:"button download-button",class:{"is-loading":t.loadAudio},attrs:{href:t.finalAudioUrl,target:"_blank",download:t.downloadFile}},[t._v("\n      Download\n      "),t._m(3)]):t._e()]),t._v(" "),t._m(4)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-medium"},[a("i",{staticClass:"fa fa-microphone"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-medium"},[a("i",{staticClass:"fa fa-stop-circle-o"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column is-mobile"},[a("div",{staticClass:"column is-half is-offset-one-quarter"},[a("p",[t._v("Aguarde, isso pode levar um momento")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon"},[a("i",{staticClass:"fa fa-download"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text"},[a("div",{staticClass:"columns is-desktop"},[a("div",{staticClass:"column is-half is-offset-one-quarter"},[a("p",[t._v("Grave um audio com o seu microfone e ao final do audio será colocado o "),a("strong",[t._v("Gemidão do Zap")]),t._v(", faça o download, envie para os seus amigos e OOOHHHH AHHH OOOHHHHHHHH AAAAHHHHH! Você caiu no "),a("strong",[t._v("Gemidão do Zap!")])]),t._v(" "),a("a",{staticClass:"button",attrs:{href:"https://github.com/Minoro/gemidao",target:"_blank"}},[a("span",{staticClass:"icon is-medium"},[a("i",{staticClass:"fa fa-github"})]),t._v(" "),a("span",[t._v("GitHub")])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("main",[a("router-view")],1)])},staticRenderFns:[]}}],[23]);
//# sourceMappingURL=app.e07bdcfcfd21d7d55b8b.js.map