{"version":3,"sources":["webpack:///static/js/app.e07bdcfcfd21d7d55b8b.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///Recorder.vue","webpack:///./src/main.js","webpack:///./src/utils/AudioConverter.js","webpack:///./src/utils/BufferLoader.js","webpack:///./src/utils/StreamRecorder.js","webpack:///./src/components/Recorder.vue?aef4","webpack:///./src/components/Recorder.vue?7e47","webpack:///./src/App.vue?7e43"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Recorder__","__WEBPACK_IMPORTED_MODULE_2__components_Recorder___default","n","use","routes","path","name","component","a","exports","injectStyle","ssrContext","Component","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__utils_StreamRecorder__","__WEBPACK_IMPORTED_MODULE_0__utils_StreamRecorder___default","__WEBPACK_IMPORTED_MODULE_1__utils_BufferLoader__","__WEBPACK_IMPORTED_MODULE_1__utils_BufferLoader___default","__WEBPACK_IMPORTED_MODULE_2__utils_AudioConverter__","__WEBPACK_IMPORTED_MODULE_2__utils_AudioConverter___default","data","isRecording","loadAudio","dataUrl","finalAudioUrl","downloadFile","outputFormat","recorder","audioConverter","computed","noSupport","this","hasGetUserMedia","methods","record","startRecord","stop","_this","blob","stopRecord","window","URL","webkitURL","createObjectURL","bufferLoader","context","AudioContext","webkitAudioContext","soundSource","createMediaStreamDestination","bufferList","createBufferSource","buffer","appendBuffer","wav","bufferToWav","mp3Buffer","wavToMp3","bufferToBlob","DataView","load","changeOutputFormat","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","__WEBPACK_IMPORTED_MODULE_3_vue_blu__","__WEBPACK_IMPORTED_MODULE_3_vue_blu___default","__WEBPACK_IMPORTED_MODULE_4_vue_blu_dist_css_vue_blu_min_css__","config","productionTip","el","router","template","components","App","AudioConverter","audioBufferToWav","lamejs","mp3encoder","Mp3Encoder","sampleBlockSize","prototype","audioBuffer","mp3buf","sampleChunk","samples","Int16Array","mp3Data","i","length","subarray","encodeBuffer","push","flush","Int8Array","audioType","Blob","type","BufferLoader","urlList","callback","onload","Array","loadCount","loadBuffer","url","index","request","XMLHttpRequest","open","responseType","loader","decodeAudioData","response","alert","error","console","onerror","send","buffer1","buffer2","numberOfChannels","Math","min","tmp","createBuffer","sampleRate","channel","getChannelData","set","StreamRecorder","that","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","options","successCallback","failureCallback","api","bind","constraints","recordingData","stream","audioRecorder","MediaRecorder","ondataavailable","event","start","err","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","icon","_v","_e","on","click","_m","on-change","_s","class","is-loading","href","target","download","staticRenderFns","id"],"mappings":"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","file":"static/js/app.e07bdcfcfd21d7d55b8b.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Recorder__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Recorder___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Recorder__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Recorder',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Recorder___default.a\n  }]\n}));\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 18 */,\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(28)\n}\nvar Component = __webpack_require__(15)(\n  /* script */\n  __webpack_require__(21),\n  /* template */\n  __webpack_require__(52),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 20 */,\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_StreamRecorder__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_StreamRecorder___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__utils_StreamRecorder__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_BufferLoader__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_BufferLoader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__utils_BufferLoader__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_AudioConverter__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_AudioConverter___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__utils_AudioConverter__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'home',\n  data: function data() {\n    return {\n      isRecording: false,\n      loadAudio: false,\n      dataUrl: '', //url do audio gravado pelo microfone\n      finalAudioUrl: '', //url para download do arquivo final\n      downloadFile: 'audio.wav', //nome do arquivo de saida\n      outputFormat: 'wav',\n      recorder: new __WEBPACK_IMPORTED_MODULE_0__utils_StreamRecorder___default.a(),\n      audioConverter: new __WEBPACK_IMPORTED_MODULE_2__utils_AudioConverter___default.a()\n    };\n  },\n\n  computed: {\n\n    noSupport: function noSupport() {\n      return !this.recorder.hasGetUserMedia();\n    }\n  },\n  methods: {\n    record: function record() {\n      this.recorder.startRecord();\n      this.isRecording = true;\n      this.loadAudio = false;\n      this.dataUrl = '';\n      this.finalAudioUrl = '';\n    },\n    stop: function stop() {\n      var _this = this;\n\n      //flag para o botão\n      this.loadAudio = true;\n\n      //gera um blob com o audio gravado para ser utilizado\n      var blob = this.recorder.stopRecord();\n      this.dataUrl = (window.URL || window.webkitURL).createObjectURL(blob);\n\n      var context = new (window.AudioContext || window.webkitAudioContext)();\n      var destination = context.createMediaStreamDestination();\n      var bufferLoader;\n      var soundSource = null;\n\n      bufferLoader = new __WEBPACK_IMPORTED_MODULE_1__utils_BufferLoader___default.a(context, [this.dataUrl, //carrega o audio gravado\n      '/static/audio/gemidao.mp3' //carrega o arquivo do gemido\n      ], function (bufferList) {\n\n        //concatena o audio do microfone com o gemido\n        soundSource = context.createBufferSource();\n        soundSource.buffer = bufferLoader.appendBuffer(bufferList[0], bufferList[1]);\n\n        //gera o arquivo de saida \n        var wav = _this.audioConverter.bufferToWav(soundSource.buffer);\n\n        if (_this.outputFormat === 'mp3') {\n          var mp3Buffer = _this.audioConverter.wavToMp3(wav);\n          var blob = _this.audioConverter.bufferToBlob(mp3Buffer, 'audio/mp3');\n        } else {\n          var blob = _this.audioConverter.bufferToBlob([new DataView(wav)], 'audio/wav');\n        }\n\n        //url do blob do arquivo final\n        _this.finalAudioUrl = window.URL.createObjectURL(blob);\n\n        _this.loadAudio = false;\n\n        //volta para o valor original\n        _this.outputFormat = 'wav';\n        _this.downloadFile = 'audio.wav';\n      });\n\n      bufferLoader.load();\n\n      this.isRecording = false;\n    },\n    changeOutputFormat: function changeOutputFormat() {\n      if (this.outputFormat === 'wav') {\n        this.outputFormat = 'mp3';\n        this.downloadFile = 'audio.mp3';\n      } else {\n        this.outputFormat = 'wav';\n        this.downloadFile = 'audio.wav';\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_blu__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_blu___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_blu__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_blu_dist_css_vue_blu_min_css__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_blu_dist_css_vue_blu_min_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_blu_dist_css_vue_blu_min_css__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_3_vue_blu___default.a);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nfunction AudioConverter() {\n\tthis.audioBufferToWav = __webpack_require__(20); //lib para gravar o audio em um arquivo wav\n\tthis.lamejs = __webpack_require__(49);\n\t// this.lamejs = new lamejs();\n\n\tvar channels = 1; //1 for mono or 2 for stereo\n\tvar sampleRate = 44100; //44.1khz (normal mp3 samplerate)\n\tvar kbps = 128; //encode 128kbps mp3\n\tthis.mp3encoder = new this.lamejs.Mp3Encoder(channels, sampleRate, kbps);\n\tthis.sampleBlockSize = 1152;\n}\n\n/**\n * Converte o buffer do audio para o formato wav\n * @param  {AudioBuffer} buffer - audio gravado\n * @return {ArrayByffer}        - ArrayBuffer com o conteudo do buffer\n */\nAudioConverter.prototype.bufferToWav = function (audioBuffer) {\n\treturn this.audioBufferToWav(audioBuffer);\n};\n\n/**\n * Converte o wav para MP3\n * @param  ArrayBuffer wav - Arquivo de audio em formado wav\n * @return Array - Buffer do audio MP3\n */\nAudioConverter.prototype.wavToMp3 = function (wav) {\n\tvar samples = new Int16Array(wav);\n\tvar mp3Data = [];\n\tvar mp3buf;\n\tvar sampleChunk;\n\n\tfor (var i = 0; i < samples.length; i += this.sampleBlockSize) {\n\t\tsampleChunk = samples.subarray(i, i + this.sampleBlockSize);\n\n\t\tmp3buf = this.mp3encoder.encodeBuffer(sampleChunk);\n\t\tif (mp3buf.length > 0) {\n\t\t\tmp3Data.push(mp3buf);\n\t\t}\n\t}\n\n\tmp3buf = this.mp3encoder.flush();\n\n\tif (mp3buf.length > 0) {\n\t\tmp3Data.push(new Int8Array(mp3buf));\n\t}\n\n\treturn mp3Data;\n};\n\n/**\n * Converte o buffer para Blob\n * @param  {ArrayBuffer} buffer    - Audio para ser convertido\n * @param  {string} audioType - Tipo de audio para gerar o blob\n * @return {Blob}           - Blob de saida do audio\n */\nAudioConverter.prototype.bufferToBlob = function (buffer, audioType) {\n\n\tvar blob = new Blob(buffer, { type: audioType });\n\treturn blob;\n};\n\nmodule.exports = AudioConverter;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n/**\n * Classe disponível em --> https://www.html5rocks.com/en/tutorials/webaudio/intro/js/buffer-loader.js\n * Faz o request de um audio como arraybuffer, decodifica e insere em um array. Ao terminar o carregamento executa o callback \n * @param AudioContext   context \n * @param array  urlList  - lista de urls de audio a serem carregadas\n * @param function callback - funcão de callback\n */\nfunction BufferLoader(context, urlList, callback) {\n  this.context = context;\n  this.urlList = urlList;\n  this.onload = callback;\n  this.bufferList = new Array();\n  this.loadCount = 0;\n}\n\nBufferLoader.prototype.loadBuffer = function (url, index) {\n  // Load buffer asynchronously\n  var request = new XMLHttpRequest();\n  request.open(\"GET\", url, true);\n  request.responseType = \"arraybuffer\";\n\n  var loader = this;\n\n  request.onload = function () {\n    // Asynchronously decode the audio file data in request.response\n    loader.context.decodeAudioData(request.response, function (buffer) {\n      if (!buffer) {\n        alert('error decoding file data: ' + url);\n        return;\n      }\n      loader.bufferList[index] = buffer;\n      if (++loader.loadCount == loader.urlList.length) loader.onload(loader.bufferList);\n    }, function (error) {\n      console.error('decodeAudioData error', error);\n    });\n  };\n\n  request.onerror = function () {\n    alert('BufferLoader: XHR error');\n  };\n\n  request.send();\n};\n\nBufferLoader.prototype.load = function () {\n  for (var i = 0; i < this.urlList.length; ++i) {\n    this.loadBuffer(this.urlList[i], i);\n  }\n};\n\n/**\n * Concatena dois ArrayBuffer\n * @param {ArrayBuffer} buffer1 The first buffer.\n * @param {ArrayBuffer} buffer2 The second buffer.\n */\nBufferLoader.prototype.appendBuffer = function (buffer1, buffer2) {\n  var numberOfChannels = Math.min(buffer1.numberOfChannels, buffer2.numberOfChannels);\n  var tmp = this.context.createBuffer(numberOfChannels, buffer1.length + buffer2.length, buffer1.sampleRate);\n  for (var i = 0; i < numberOfChannels; i++) {\n    var channel = tmp.getChannelData(i);\n    channel.set(buffer1.getChannelData(i), 0);\n    channel.set(buffer2.getChannelData(i), buffer1.length);\n  }\n  return tmp;\n};\n\nmodule.exports = BufferLoader;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n/**\n * Classe para gravar o audio por meio do MediaRecorder do navegador\n */\nvar StreamRecorder = function StreamRecorder() {\n\n    var that = this;\n    var audioRecorder = null;\n    var recordingData = [];\n\n    this.hasGetUserMedia = function () {\n        return !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);\n    };\n\n    this.getUserMedia = function (options, successCallback, failureCallback) {\n        var api = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n        if (api) {\n            return api.bind(navigator)(options, successCallback, failureCallback);\n        }\n\n        alert('User Media API not supported.');\n    };\n\n    this.startRecord = function () {\n        var constraints = {};\n        constraints['audio'] = true; //carrega o audio\n        this.recordingData = []; //reinicia o conteúdo do audio\n\n        if (!this.hasGetUserMedia()) {\n            return false; //não tem suporte a captura\n        }\n\n        this.getUserMedia(constraints, function (stream) {\n            that.audioRecorder = new MediaRecorder(stream);\n            that.audioRecorder.ondataavailable = function (event) {\n                that.recordingData.push(event.data);\n            };\n\n            that.audioRecorder.start(100);\n        }, function (err) {\n            alert('Error: ' + err);\n        });\n    };\n\n    this.stopRecord = function () {\n        that.audioRecorder.stop();\n        var blob = new Blob(that.recordingData, { type: 'audio/mp3' });\n\n        return blob;\n    };\n};\n\nmodule.exports = StreamRecorder;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(27)\n}\nvar Component = __webpack_require__(15)(\n  /* script */\n  __webpack_require__(22),\n  /* template */\n  __webpack_require__(51),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1676c4b7\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"record container section\"\n  }, [(_vm.noSupport) ? _c('div', {\n    staticClass: \"text\"\n  }, [_c('alert', {\n    attrs: {\n      \"title\": \"Um erro ocorreu\",\n      \"type\": \"danger\",\n      \"icon\": \"meh-o\"\n    }\n  }, [_vm._v(\"\\n      Ops! Parece que seu navegador não tem suporte para essa aplicação...\\n    \")])], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons-wrap\"\n  }, [(!_vm.isRecording) ? _c('a', {\n    staticClass: \"button is-primary record-button\",\n    on: {\n      \"click\": _vm.record\n    }\n  }, [_vm._m(0), _vm._v(\"\\n      Gravar\\n    \")]) : _vm._e(), _vm._v(\" \"), (_vm.isRecording) ? _c('a', {\n    staticClass: \"button is-success record-button\",\n    on: {\n      \"click\": _vm.stop\n    }\n  }, [_vm._m(1), _vm._v(\"\\n      Parar\\n    \")]) : _vm._e()]), _vm._v(\" \"), (!_vm.isRecording) ? _c('div', {\n    staticClass: \"buttons-wrap\"\n  }, [_c('b-switch', {\n    attrs: {\n      \"on-change\": _vm.changeOutputFormat\n    }\n  }), _vm._v(_vm._s(_vm.outputFormat) + \"\\n  \")], 1) : _vm._e(), _vm._v(\" \"), (_vm.loadAudio) ? _c('div', {\n    staticClass: \"text\"\n  }, [_vm._m(2)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons-wrap\"\n  }, [(_vm.loadAudio || _vm.finalAudioUrl) ? _c('a', {\n    staticClass: \"button download-button\",\n    class: {\n      'is-loading': _vm.loadAudio\n    },\n    attrs: {\n      \"href\": _vm.finalAudioUrl,\n      \"target\": \"_blank\",\n      \"download\": _vm.downloadFile\n    }\n  }, [_vm._v(\"\\n      Download\\n      \"), _vm._m(3)]) : _vm._e()]), _vm._v(\" \"), _vm._m(4)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-medium\"\n  }, [_c('i', {\n    staticClass: \"fa fa-microphone\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-medium\"\n  }, [_c('i', {\n    staticClass: \"fa fa-stop-circle-o\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"column is-mobile\"\n  }, [_c('div', {\n    staticClass: \"column is-half is-offset-one-quarter\"\n  }, [_c('p', [_vm._v(\"Aguarde, isso pode levar um momento\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon\"\n  }, [_c('i', {\n    staticClass: \"fa fa-download\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"text\"\n  }, [_c('div', {\n    staticClass: \"columns is-desktop\"\n  }, [_c('div', {\n    staticClass: \"column is-half is-offset-one-quarter\"\n  }, [_c('p', [_vm._v(\"Grave um audio com o seu microfone e ao final do audio será colocado o \"), _c('strong', [_vm._v(\"Gemidão do Zap\")]), _vm._v(\", faça o download, envie para os seus amigos e OOOHHHH AHHH OOOHHHHHHHH AAAAHHHHH! Você caiu no \"), _c('strong', [_vm._v(\"Gemidão do Zap!\")])]), _vm._v(\" \"), _c('a', {\n    staticClass: \"button\",\n    attrs: {\n      \"href\": \"https://github.com/Minoro/gemidao\",\n      \"target\": \"_blank\"\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-medium\"\n  }, [_c('i', {\n    staticClass: \"fa fa-github\"\n  })]), _vm._v(\" \"), _c('span', [_vm._v(\"GitHub\")])])])])])\n}]}\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('main', [_c('router-view')], 1)])\n},staticRenderFns: []}\n\n/***/ })\n],[23]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.e07bdcfcfd21d7d55b8b.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Recorder from '@/components/Recorder'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Recorder',\n      component: Recorder\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5df343fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5df343fe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 19\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\nmain {\n  text-align: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6769418d","<template>\n  <div class=\"record container section\">\n\n    <div class=\"text\" v-if=\"noSupport\">\n      <alert title=\"Um erro ocorreu\" type=\"danger\" icon=\"meh-o\">\n        Ops! Parece que seu navegador não tem suporte para essa aplicação...\n      </alert>\n    </div>\n\n    <div class=\"buttons-wrap\">\n      <a @click=\"record\" v-if=\"!isRecording\" class=\"button is-primary record-button\">\n        <span class=\"icon is-medium\">\n          <i class=\"fa fa-microphone\"></i>\n        </span>\n        Gravar\n      </a>\n      <a @click=\"stop\" v-if=\"isRecording\" class=\"button is-success record-button\">\n        <span class=\"icon is-medium\">\n          <i class=\"fa fa-stop-circle-o\"></i>\n        </span>\n        Parar\n      </a>\n    </div>\n    \n    <div class=\"buttons-wrap\" v-if=\"!isRecording\">\n      <b-switch :on-change=\"changeOutputFormat\"></b-switch>{{outputFormat}}\n    </div>\n\n    <div class=\"text\" v-if=\"loadAudio\">\n      <div class=\"column is-mobile\">\n        <div class=\"column is-half is-offset-one-quarter\">\n          <p>Aguarde, isso pode levar um momento</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"buttons-wrap\">\n      <a \n        class=\"button download-button\" \n        :class=\"{ 'is-loading' : loadAudio}\"\n        :href=\"finalAudioUrl\" \n        v-if=\"loadAudio || finalAudioUrl\" \n        target=\"_blank\" \n        :download='downloadFile'>\n        Download\n        <span class=\"icon\">\n          <i class=\"fa fa-download\"></i>\n        </span>\n      </a>\n      \n    </div>\n    \n    <div class=\"text\">\n      <div class=\"columns is-desktop\">\n        <div class=\"column is-half is-offset-one-quarter\">\n          <p>Grave um audio com o seu microfone e ao final do audio será colocado o <strong>Gemidão do Zap</strong>, faça o download, envie para os seus amigos e OOOHHHH AHHH OOOHHHHHHHH AAAAHHHHH! Você caiu no <strong>Gemidão do Zap!</strong></p>\n\n          <a class=\"button\" href=\"https://github.com/Minoro/gemidao\" target=\"_blank\">\n            <span class=\"icon is-medium\">\n              <i class=\"fa fa-github\"></i>\n            </span>\n            <span>GitHub</span>\n          </a>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport StreamRecorder from '../utils/StreamRecorder';\nimport BufferLoader from '../utils/BufferLoader';\nimport AudioConverter from '../utils/AudioConverter';\n\nexport default {\n  name: 'home',\n  data () {\n    return {\n      isRecording: false,\n      loadAudio: false,\n      dataUrl: '', //url do audio gravado pelo microfone\n      finalAudioUrl: '', //url para download do arquivo final\n      downloadFile: 'audio.wav',//nome do arquivo de saida\n      outputFormat: 'wav',\n      recorder: new StreamRecorder(),\n      audioConverter: new AudioConverter()\n    }\n  },\n  computed: {\n\n    noSupport: function(){\n      return !this.recorder.hasGetUserMedia();\n    }\n  },\n  methods: {\n    record() {\n      this.recorder.startRecord();\n      this.isRecording = true;\n      this.loadAudio = false;\n      this.dataUrl = '';\n      this.finalAudioUrl = '';\n    },\n    stop() {\n\n      //flag para o botão\n      this.loadAudio = true;\n\n      //gera um blob com o audio gravado para ser utilizado\n      var blob = this.recorder.stopRecord();\n      this.dataUrl = (window.URL || window.webkitURL).createObjectURL(blob);\n\n      var context = new (window.AudioContext || window.webkitAudioContext)();\n      var destination = context.createMediaStreamDestination();\n      var bufferLoader;\n      var soundSource = null;\n\n      bufferLoader = new BufferLoader(\n        context,\n        [\n         this.dataUrl, //carrega o audio gravado\n         '/static/audio/gemidao.mp3' //carrega o arquivo do gemido\n        ],\n        (bufferList) => {\n\n          //concatena o audio do microfone com o gemido\n          soundSource = context.createBufferSource();\n          soundSource.buffer = bufferLoader.appendBuffer(bufferList[0],bufferList[1]);\n          \n\n          //gera o arquivo de saida \n          var wav = this.audioConverter.bufferToWav(soundSource.buffer);\n         \n          if(this.outputFormat === 'mp3'){\n            var mp3Buffer = this.audioConverter.wavToMp3(wav);\n            var blob = this.audioConverter.bufferToBlob(mp3Buffer, 'audio/mp3');\n          } else {\n            var blob = this.audioConverter.bufferToBlob([ new DataView(wav) ], 'audio/wav');\n          }\n\n          //url do blob do arquivo final\n          this.finalAudioUrl = window.URL.createObjectURL(blob);\n          \n          this.loadAudio = false;\n\n          //volta para o valor original\n          this.outputFormat = 'wav';\n          this.downloadFile = 'audio.wav';\n        });\n\n      bufferLoader.load();\n\n      this.isRecording = false;\n    },\n    changeOutputFormat() {\n      if(this.outputFormat === 'wav'){\n        this.outputFormat = 'mp3';\n        this.downloadFile = 'audio.mp3';\n      }else {\n        this.outputFormat = 'wav';\n        this.downloadFile = 'audio.wav';\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.record-button {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  font-size: 18px;\n  padding-top: 20px;\n}\n\n.record-button .icon {\n  position: absolute;\n  top: 10px;\n  left: 0;\n  right: 0;\n  margin: 0 auto !important;\n}\n\n.buttons-wrap {\n  display: block;\n  margin: 20px auto;\n}\n\n.text p {\n  font-size: 16px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Recorder.vue?04ef8ffa","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport VueBlu from 'vue-blu'\nimport 'vue-blu/dist/css/vue-blu.min.css'\n\nVue.use(VueBlu);\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\nfunction AudioConverter() {\n  \tthis.audioBufferToWav = require('audiobuffer-to-wav');//lib para gravar o audio em um arquivo wav\n\tthis.lamejs = require(\"lamejs\");\n\t// this.lamejs = new lamejs();\n\n\tvar channels = 1; //1 for mono or 2 for stereo\n\tvar sampleRate = 44100; //44.1khz (normal mp3 samplerate)\n\tvar kbps = 128; //encode 128kbps mp3\n\tthis.mp3encoder = new this.lamejs.Mp3Encoder(channels, sampleRate, kbps);\n\tthis.sampleBlockSize = 1152;\n\n}\n\n/**\n * Converte o buffer do audio para o formato wav\n * @param  {AudioBuffer} buffer - audio gravado\n * @return {ArrayByffer}        - ArrayBuffer com o conteudo do buffer\n */\nAudioConverter.prototype.bufferToWav = function(audioBuffer){\n\treturn this.audioBufferToWav(audioBuffer);\n}\n\n/**\n * Converte o wav para MP3\n * @param  ArrayBuffer wav - Arquivo de audio em formado wav\n * @return Array - Buffer do audio MP3\n */\nAudioConverter.prototype.wavToMp3 = function(wav) {\n\tvar samples = new Int16Array(wav);\n\tvar mp3Data = [];\n\tvar mp3buf;\n\tvar sampleChunk;\n\n\tfor (var i = 0; i < samples.length; i += this.sampleBlockSize) {\n\t\tsampleChunk = samples.subarray(i, i + this.sampleBlockSize);\n\n\t\tmp3buf = this.mp3encoder.encodeBuffer(sampleChunk);\n\t\tif (mp3buf.length > 0) {\n\t\t  mp3Data.push(mp3buf);\n\t\t}\n\t}\n\n\tmp3buf = this.mp3encoder.flush();\n\n\tif (mp3buf.length > 0) {\n\t  mp3Data.push(new Int8Array(mp3buf));\n\t}\n\n\treturn mp3Data;\n}\n\n/**\n * Converte o buffer para Blob\n * @param  {ArrayBuffer} buffer    - Audio para ser convertido\n * @param  {string} audioType - Tipo de audio para gerar o blob\n * @return {Blob}           - Blob de saida do audio\n */\nAudioConverter.prototype.bufferToBlob = function(buffer, audioType){\n\n\tvar blob = new Blob(buffer, {type: audioType});\t\n\treturn blob;\n}\n\nmodule.exports = AudioConverter;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/AudioConverter.js","/**\n * Classe disponível em --> https://www.html5rocks.com/en/tutorials/webaudio/intro/js/buffer-loader.js\n * Faz o request de um audio como arraybuffer, decodifica e insere em um array. Ao terminar o carregamento executa o callback \n * @param AudioContext   context \n * @param array  urlList  - lista de urls de audio a serem carregadas\n * @param function callback - funcão de callback\n */\nfunction BufferLoader(context, urlList, callback) {\n  this.context = context;\n  this.urlList = urlList;\n  this.onload = callback;\n  this.bufferList = new Array();\n  this.loadCount = 0;\n}\n\nBufferLoader.prototype.loadBuffer = function(url, index) {\n  // Load buffer asynchronously\n  var request = new XMLHttpRequest();\n  request.open(\"GET\", url, true);\n  request.responseType = \"arraybuffer\";\n\n  var loader = this;\n\n  request.onload = function() {\n    // Asynchronously decode the audio file data in request.response\n    loader.context.decodeAudioData(\n      request.response,\n      function(buffer) {\n        if (!buffer) {\n          alert('error decoding file data: ' + url);\n          return;\n        }\n        loader.bufferList[index] = buffer;\n        if (++loader.loadCount == loader.urlList.length)\n          loader.onload(loader.bufferList);\n      },\n      function(error) {\n        console.error('decodeAudioData error', error);\n      }\n    );\n  }\n\n  request.onerror = function() {\n    alert('BufferLoader: XHR error');\n  }\n\n  request.send();\n}\n\nBufferLoader.prototype.load = function() {\n  for (var i = 0; i < this.urlList.length; ++i)\n  this.loadBuffer(this.urlList[i], i);\n}\n\n/**\n * Concatena dois ArrayBuffer\n * @param {ArrayBuffer} buffer1 The first buffer.\n * @param {ArrayBuffer} buffer2 The second buffer.\n */\nBufferLoader.prototype.appendBuffer = function(buffer1, buffer2){\n  var numberOfChannels = Math.min( buffer1.numberOfChannels, buffer2.numberOfChannels );\n  var tmp = this.context.createBuffer( numberOfChannels, (buffer1.length + buffer2.length), buffer1.sampleRate );\n  for (var i=0; i<numberOfChannels; i++) {\n    var channel = tmp.getChannelData(i);\n    channel.set( buffer1.getChannelData(i), 0);\n    channel.set( buffer2.getChannelData(i), buffer1.length);\n  }\n  return tmp;\n}\n\nmodule.exports = BufferLoader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/BufferLoader.js","/**\n * Classe para gravar o audio por meio do MediaRecorder do navegador\n */\nvar StreamRecorder = function () {\n\n    var that = this;\n    var audioRecorder = null;\n    var recordingData = [];\n\n    this.hasGetUserMedia = function() {\n        return !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia || navigator.msGetUserMedia);\n    }\n\n    this.getUserMedia = function (options, successCallback, failureCallback) {\n        var api = navigator.getUserMedia || navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia || navigator.msGetUserMedia;\n        if (api) {\n            return api.bind(navigator)(options, successCallback, failureCallback);\n        }\n\n        alert('User Media API not supported.');\n    }\n\n    this.startRecord = function () {\n        var constraints = {};\n        constraints['audio'] = true; //carrega o audio\n        this.recordingData  = []; //reinicia o conteúdo do audio\n\n        if(!this.hasGetUserMedia()){\n            return false; //não tem suporte a captura\n        }\n\n        this.getUserMedia(constraints, function(stream) {\n            that.audioRecorder = new MediaRecorder(stream);\n            that.audioRecorder.ondataavailable = function(event) {\n                that.recordingData.push(event.data);\n            }\n\n            that.audioRecorder.start(100);\n        }, function(err) {\n            alert('Error: ' + err);\n        });\n    }\n\n    this.stopRecord = function(){\n        that.audioRecorder.stop();  \n        var blob = new Blob(that.recordingData, { type: 'audio/mp3'});\n\n        return blob;\n    }\n\n}\n\nmodule.exports = StreamRecorder;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/StreamRecorder.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1676c4b7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Recorder.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recorder.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1676c4b7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Recorder.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1676c4b7\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Recorder.vue\n// module id = 50\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"record container section\"\n  }, [(_vm.noSupport) ? _c('div', {\n    staticClass: \"text\"\n  }, [_c('alert', {\n    attrs: {\n      \"title\": \"Um erro ocorreu\",\n      \"type\": \"danger\",\n      \"icon\": \"meh-o\"\n    }\n  }, [_vm._v(\"\\n      Ops! Parece que seu navegador não tem suporte para essa aplicação...\\n    \")])], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons-wrap\"\n  }, [(!_vm.isRecording) ? _c('a', {\n    staticClass: \"button is-primary record-button\",\n    on: {\n      \"click\": _vm.record\n    }\n  }, [_vm._m(0), _vm._v(\"\\n      Gravar\\n    \")]) : _vm._e(), _vm._v(\" \"), (_vm.isRecording) ? _c('a', {\n    staticClass: \"button is-success record-button\",\n    on: {\n      \"click\": _vm.stop\n    }\n  }, [_vm._m(1), _vm._v(\"\\n      Parar\\n    \")]) : _vm._e()]), _vm._v(\" \"), (!_vm.isRecording) ? _c('div', {\n    staticClass: \"buttons-wrap\"\n  }, [_c('b-switch', {\n    attrs: {\n      \"on-change\": _vm.changeOutputFormat\n    }\n  }), _vm._v(_vm._s(_vm.outputFormat) + \"\\n  \")], 1) : _vm._e(), _vm._v(\" \"), (_vm.loadAudio) ? _c('div', {\n    staticClass: \"text\"\n  }, [_vm._m(2)]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"buttons-wrap\"\n  }, [(_vm.loadAudio || _vm.finalAudioUrl) ? _c('a', {\n    staticClass: \"button download-button\",\n    class: {\n      'is-loading': _vm.loadAudio\n    },\n    attrs: {\n      \"href\": _vm.finalAudioUrl,\n      \"target\": \"_blank\",\n      \"download\": _vm.downloadFile\n    }\n  }, [_vm._v(\"\\n      Download\\n      \"), _vm._m(3)]) : _vm._e()]), _vm._v(\" \"), _vm._m(4)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-medium\"\n  }, [_c('i', {\n    staticClass: \"fa fa-microphone\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon is-medium\"\n  }, [_c('i', {\n    staticClass: \"fa fa-stop-circle-o\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"column is-mobile\"\n  }, [_c('div', {\n    staticClass: \"column is-half is-offset-one-quarter\"\n  }, [_c('p', [_vm._v(\"Aguarde, isso pode levar um momento\")])])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('span', {\n    staticClass: \"icon\"\n  }, [_c('i', {\n    staticClass: \"fa fa-download\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"text\"\n  }, [_c('div', {\n    staticClass: \"columns is-desktop\"\n  }, [_c('div', {\n    staticClass: \"column is-half is-offset-one-quarter\"\n  }, [_c('p', [_vm._v(\"Grave um audio com o seu microfone e ao final do audio será colocado o \"), _c('strong', [_vm._v(\"Gemidão do Zap\")]), _vm._v(\", faça o download, envie para os seus amigos e OOOHHHH AHHH OOOHHHHHHHH AAAAHHHHH! Você caiu no \"), _c('strong', [_vm._v(\"Gemidão do Zap!\")])]), _vm._v(\" \"), _c('a', {\n    staticClass: \"button\",\n    attrs: {\n      \"href\": \"https://github.com/Minoro/gemidao\",\n      \"target\": \"_blank\"\n    }\n  }, [_c('span', {\n    staticClass: \"icon is-medium\"\n  }, [_c('i', {\n    staticClass: \"fa fa-github\"\n  })]), _vm._v(\" \"), _c('span', [_vm._v(\"GitHub\")])])])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1676c4b7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Recorder.vue\n// module id = 51\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('main', [_c('router-view')], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5df343fe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 52\n// module chunks = 1"],"sourceRoot":""}